(()=>{"use strict";function t(t){return t<=9?"0"+t:t}window.$untils={padZero:t,fadeIn:function(t,n){n=n||30;var e=0,a=setInterval((function(){e++,t.style.display="block",t.style.opacity=e/10,e>=10&&clearInterval(a)}),n)},fadeOut:function(t,n){n=n||30;var e=10,a=setInterval((function(){e--,t.style.display="none",t.style.opacity=e/10,console.log(t.style.opacity),e<=0&&clearInterval(a)}),n)},weTip:function(t){weui.topTips(t,{duration:1e3,className:"custom-classname tip",callback:function(){console.log("close")}})},isLogin:function(){return localStorage.getItem("userId")||(alert("请先登录"),location.href="./login.html",!1)},footerTab:function(t){var n=document.createElement("footer");n.innerHTML='\n<a href="./home.html" class=\''+("home"==t?"active":"")+'\'>\n    <span class="iconfont iconhome"></span>\n    <span class="title">首页</span>\n</a>\n<a href="./run.html"  class=\''+("run"==t?"active":"")+'\' >\n    <span class="iconfont iconsports"></span>\n    <span class="title">运动</span>\n</a>\n<a href="javascript:;">\n    <span class="iconfont iconcircle"></span>\n    <span class="title">圈子</span>\n</a>\n<a href="./my.html" class=\''+("my"==t?"active":"")+'\'>\n    <span class="iconfont iconmine"></span>\n    <span class="title">我的</span>\n</a>',document.body.appendChild(n)},upload:function(t){var n=new XMLHttpRequest,e=new FormData;e.append("imgurl",t),n.open("POST","http://139.9.177.51:8099/users/upload"),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(sessionStorage.setItem("imgurl",JSON.parse(n.responseText).data),console.log("响应成功！",JSON.parse(n.responseText)))},n.send(e)},editLogin:function(){return sessionStorage.getItem("userId")||(alert("请先登录"),location.href="./login.html",!1)},sportTab:function(t){var n=document.createElement("header");n.className="sport_head",n.innerHTML=' <a href="./run.html" class=\''+("run"==t?"active":"")+"'>跑步</a>\n    <a href=\"./ride.html\" class='"+("ride"==t?"active":"")+"'>骑行</a>\n    <a href=\"./course.html\" class='"+("course"==t?"active":"")+"'>课程训练</a>",document.body.insertBefore(n,document.querySelector("main"))},getTimeBySec:function(n){var e=Math.floor(n/3600%24),a=Math.floor(n/60%60),o=Math.floor(n%60);return[t(e),t(a),t(o)].join(":")},getDate:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=new Date,a=e.getFullYear(),o=e.getMonth()+1,s=e.getDate();return[a,t(o),t(s)].join(n)},calcDistance:function(t,n){var e=t.lat,a=t.lng,o=n.lat,s=n.lng,r=e*Math.PI/180,c=o*Math.PI/180,l=r-c,i=a*Math.PI/180-s*Math.PI/180,u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(r)*Math.cos(c)*Math.pow(Math.sin(i/2),2)));return u*=6378.137,(u=Math.round(1e4*u)/1e4).toFixed(2)},calCalorie:function(t){return t>0?(60*t*1.036).toFixed(2):"--"},calcPace:function(t,n){var e=t,a=n/60;if(console.log(e,a),e>0&&a>0){var o=parseFloat(a/e),s=Math.floor(o),r=(60*(o-s)).toFixed(0);return console.log(o,s,r),s+"'"+r+'"'}return"--"}}})();